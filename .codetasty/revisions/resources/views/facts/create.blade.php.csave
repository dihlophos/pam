codetasty.revision.2.0
{"ts":1500618440,"restoring":false,"user_id":4164,"patch":[{"diffs":[[1,"@extends('layouts.app')\r\n\r\n@section('styles')\r\n<link href=\"{{ URL::asset('/css/selectize.css') }}\" rel=\"stylesheet\">\r\n<link href=\"{{ URL::asset('/css/selectize.bootstrap3.css') }}\" rel=\"stylesheet\">\r\n<style>\r\n    .preventions_only, .diagnostic_tests_only, .sanitary_works_only\r\n    {\r\n        display:none;\r\n    }\r\n</style>\r\n@endsection\r\n\r\n@section('content')\r\n    <!-- Отображение ошибок проверки ввода -->\r\n    @include('common.errors')\r\n    @include('common.flash')\r\n\r\n<form action=\"/object/{{$object->id}}/fact\" class=\"well\" id=\"FactCreateForm\" method=\"post\" accept-charset=\"utf-8\">\r\n    {{ csrf_field() }}\r\n    {{ method_field('POST') }}\r\n    <input name=\"object_id\" type=\"hidden\" id=\"FactObjectId\" value=\"{{ $object->id }}\">\r\n    <fieldset>\r\n\t\t<legend>Сведения о документе</legend>\r\n\t\t<div class=\"form-group required\">\r\n            <label for=\"FactDate\">Дата</label>\r\n            <input name=\"date\" type=\"date\" class=\"form-control\" required=\"required\" id=\"FactDate\" value=\"{{ old('date')?old('date'):date('Y-m-d') }}\">\r\n        </div>\r\n        <div class=\"form-group\">\r\n            <label for=\"FactBasicDocumentId\">Название</label>\r\n            <select name=\"basic_document_id\" id=\"FactBasicDocumentId\" class=\"form-control\">\r\n                @foreach ($basic_documents as $id => $basic_document)\r\n                    <option value=\"{{$id}}\" {{ old('basic_document_id') == $id ? 'selected' : '' }}>{{ $basic_document }}</option>\r\n                @endforeach\r\n            </select>\r\n        </div>\r\n        <div class=\"form-group\">\r\n            <label for=\"FactAnimalId\">Код записи сведений о животном</label>\r\n            <select name=\"animal_id\" id=\"FactAnimalId\" class=\"form-control\">\r\n                @foreach ($animals as $animal)\r\n                    <option value=\"{{$animal->id}}\" {{ old('animal_id') == $animal->id ? 'selected' : '' }}>\r\n                        {{ $animal->animalType->name }}{{$animal->name?' | '.$animal->name:''}} - (возраст: {{$animal->age}})\r\n                    </option>\r\n                @endforeach\r\n            </select>\r\n        </div>\r\n    </fieldset>\r\n    <fieldset>\r\n\t\t<legend>Сведения об услуге</legend>\r\n        <label for=\"FactServiceId\">Услуга</label>\r\n        <select name=\"service_id\" id=\"FactServiceId\" class=\"form-control\">\r\n            <option value=\"\">Укажите услугу</option>\r\n            @foreach ($services as $service)\r\n                <option value=\"{{$service->id}}\" {{ old('service_id') == $service->id ? 'selected' : '' }}>\r\n                    {{ $service->name }}\r\n                </option>\r\n            @endforeach\r\n        </select>\r\n        <div class=\"form-group preventions_only\">\r\n            <label for=\"PreventionServiceType\">Вид услуги</label>\r\n            <select name=\"service_type\" id=\"PreventionServiceType\" class=\"form-control\">\r\n                    <option value=\"профилактическая\" {{ old('service_type') == 'профилактическая' ? 'selected' : '' }}>\r\n                        профилактическая\r\n                    </option>\r\n                    <option value=\"вынужденная\" {{ old('service_type') == 'вынужденная' ? 'selected' : '' }}>\r\n                        вынужденная\r\n                    </option>\r\n            </select>\r\n        </div>\r\n        <div class=\"form-group diagnostic_tests_only\">\r\n            <label for=\"DiagnosticTestResearchType\">Вид исследований</label>\r\n            <select name=\"research_type_id\" id=\"DiagnosticTestResearchType\" class=\"form-control\">\r\n                <option value=\"\">Укажите вид исследований</option>\r\n            @foreach ($research_types as $id => $research_type)\r\n                <option value=\"{{$id}}\" {{ old('research_type_id') == $id ? 'selected' : '' }}>\r\n                    {{ $research_type }}\r\n                </option>\r\n            @endforeach\r\n            </select>\r\n        </div>\r\n        <div class=\"form-group diagnostic_tests_only\">\r\n            <label for=\"DiagnosticTestDiseases\">Болезни</label>\r\n            <select name=\"diseases[]\" class=\"form-control\" multiple=\"multiple\" id=\"DiagnosticTestDiseases\">\r\n                <option value=\"\"></option>\r\n            </select>\r\n        </div>\r\n    </fieldset>\r\n    <fieldset>\r\n        <legend>Количество</legend>\r\n        <div class=\"form-group preventions_only\">\r\n            <label for=\"PreventionCount\">Всего</label>\r\n            <input name=\"count\" class=\"form-control\" type=\"number\" id=\"PreventionCount\" value=\"{{ old('count')?old('count'):0 }}\">\r\n        </div>\r\n        <div class=\"form-group preventions_only\">\r\n            <label for=\"PreventionCountGz\">По ГЗ</label>\r\n            <input name=\"count_gz\" class=\"form-control\" type=\"number\" id=\"PreventionCountGz\" value=\"{{ old('count_gz')?old('count_gz'):0 }}\">\r\n        </div>\r\n        <div class=\"form-group preventions_only\">\r\n            <label for=\"PreventionCountFinal\">Окончательных обработок</label>\r\n            <input name=\"count_final\" class=\"form-control\" type=\"number\" id=\"PreventionCountFinal\" value=\"{{ old('count_final')?old('count_final'):0 }}\">\r\n        </div>\r\n        <div class=\"form-group preventions_only\">\r\n            <label for=\"PreventionCountIll\">Заболело (осложнения)</label>\r\n            <input name=\"count_ill\" class=\"form-control\" type=\"number\" id=\"PreventionCountIll\" value=\"{{ old('count_ill')?old('count_ill'):0 }}\">\r\n        </div>\r\n        <div class=\"form-group preventions_only\">\r\n            <label for=\"PreventionCountRip\">Пало, вынуж./убит</label>\r\n            <input name=\"count_rip\" class=\"form-control\" type=\"number\" id=\"PreventionCountRip\" value=\"{{ old('count_rip')?old('count_rip'):0 }}\">\r\n        </div>\r\n        <div class=\"form-group\">\r\n            <label for=\"PreventionExecutorId\">Исполнитель</label>\r\n            <select name=\"executor_id\" class=\"form-control\" id=\"PreventionExecutorId\">\r\n                @foreach ($executors as $id => $executor)\r\n                <option value=\"{{$id}}\" {{ old('executor_id') == $id ? 'selected' : '' }}>{{ $executor }}</option>\r\n                @endforeach\r\n            </select>\r\n        </div>\r\n\r\n        <div class=\"diagnostic_tests_only\" style=\"color:red\">\r\n            исследования: покачто нет формы\r\n        </div>\r\n\r\n        <div class=\"sanitary_works_only\" style=\"color:red\">\r\n            вет.сан. работы: покачто нет формы\r\n        </div>\r\n    </fieldset>\r\n    <fieldset class=\"preventions_only diagnostic_tests_only\">\r\n        <legend>Сведения об использованиии препаратов</legend>\r\n        <div class=\"form-group\">\r\n            <label for=\"PreparationReceiptId\">Код записи препарата</label>\r\n            <select name=\"preparation_receipt_id\" id=\"PreparationReceiptId\" class=\"form-control\">\r\n                @foreach ($preparation_receipts as $preparation_receipt)\r\n                    <option value=\"{{$preparation_receipt->id}}\" {{ old('preparation_receipt_id') == $preparation_receipt->id ? 'selected' : '' }}>\r\n                        {{ $preparation_receipt->id }}-{{ $preparation_receipt->preparation->name }} (серия: {{ $preparation_receipt->series }})\r\n                    </option>\r\n                @endforeach\r\n            </select>\r\n        </div>\r\n        <div class=\"form-group required preventions_only\">\r\n            <label for=\"PreventionApplicationMethodId\">Порядок применения</label>\r\n            <select name=\"application_method_id\" class=\"form-control\" id=\"PreventionApplicationMethodId\" required=\"required\">\r\n                <option value=\"\"></option>\r\n            </select>\r\n        </div>\r\n        <div class=\"form-group preventions_only\">\r\n            <label for=\"PreventionDiseases\">Болезни</label>\r\n            <select name=\"diseases[]\" class=\"form-control\" multiple=\"multiple\" id=\"PreventionDiseases\">\r\n                <option value=\"\"></option>\r\n            </select>\r\n        </div>\r\n        <div class=\"form-group required preventions_only diagnostic_tests_only\">\r\n            <label for=\"PreparationUsedDoses\">Израсходовано доз (мл)</label>\r\n            <input name=\"preparation_used_doses\" class=\"form-control\" type=\"number\"\r\n                   value=\"{{ old('preparation_used_doses')?old('preparation_used_doses'):0 }}\"\r\n                   id=\"PreparationUsedDoses\" required=\"required\">\r\n        </div>\r\n        <div class=\"form-group preventions_only diagnostic_tests_only\">\r\n            <label for=\"Comment\">Примечание</label>\r\n            <input name=\"comment\" class=\"form-control\" maxlength=\"255\" type=\"text\"\r\n                   value=\"{{ old('comment')?old('comment'):0 }}\" id=\"Comment\">\r\n        </div>\r\n    </fieldset>\r\n    <div class=\"form-group\">\r\n        <input class=\"btn btn-default\" type=\"submit\" value=\"Сохранить\">\r\n    </div>\r\n</form>\r\n@endsection\r\n\r\n@section('scripts')\r\n<script src=\"{{ URL::asset('/js/selectize.min.js') }}\"></script>\r\n<script type=\"text/javascript\">\r\n$(function () {\r\n    var services = {!!(string)$services!!};\r\n    var receipts = {!!(string)$preparation_receipts!!};\r\n\r\n    var xhr_method, xhr_diseases;\r\n\tvar select_receipts, $select_receipt;\r\n    var select_method, $select_method;\r\n\tvar select_diseases, $select_diseases;\r\n\r\n    $select_diseases = $('#PreventionDiseases').selectize({\r\n        valueField: 'id',\r\n\t\tlabelField: 'name',\r\n\t\tsearchField: ['name'],\r\n        create: false,\r\n\t\tpersist: false,\r\n\t\tselectOnTab: true,\r\n        plugins: ['restore_on_backspace'],\r\n        placeholder: 'Укажите болезни'\r\n    });\r\n\r\n    $select_method = $('#PreventionApplicationMethodId').selectize({\r\n        valueField: 'id',\r\n\t\tlabelField: 'name',\r\n\t\tsearchField: ['name'],\r\n        create: false,\r\n\t\tpersist: false,\r\n\t\tselectOnTab: true,\r\n        plugins: ['restore_on_backspace'],\r\n        placeholder: 'Укажите порядок применения'\r\n    });\r\n\r\n    select_method = $select_method[0].selectize;\r\n    select_diseases = $select_diseases[0].selectize;\r\n\r\n    $select_receipt = $('#PreparationReceiptId').selectize({\r\n        create: false,\r\n\t\tpersist: false,\r\n\t\tselectOnTab: true,\r\n        plugins: ['restore_on_backspace'],\r\n        placeholder: 'Укажите препарат',\r\n        onInitialize: function() {\r\n            this.selected_value = this.getValue();\r\n            this.trigger( \"change\" );\r\n        },\r\n\t\tonDropdownClose: function($dropdown) {\r\n\t\t\tif(this.getValue()==0) {\r\n\t\t\t\tthis.setValue(this.selected_value );\r\n\t\t\t}\r\n\t\t},\r\n\t\tonChange: function(value) {\r\n\t\t\tvalue=(!value || value==0)?this.selected_value:value;this.selected_value=value;\r\n\t\t\tif (!value.length) return;\r\n            var selected_preparation_receipt = $.grep(receipts, function(e) { return e['id'] == value; })[0];\r\n            var preparation_id = selected_preparation_receipt?selected_preparation_receipt['preparation']['id']:0;\r\n            select_method.disable();\r\n\t\t\tselect_method.clearOptions();\r\n\t\t\tselect_method.load(function(callback) {\r\n\t\t\t\txhr_method && xhr_method.abort();\r\n\t\t\t\txhr_method = $.ajax({\r\n\t\t\t\t\ttype: 'get',\r\n\t\t\t\t\turl: '/api/preparation/' + preparation_id + '/application_methods',\r\n\t\t\t\t\tsuccess: function(results) {\r\n\t\t\t\t\t\tselect_method.enable();\r\n\t\t\t\t\t\tcallback(results);\r\n\t\t\t\t\t},\r\n\t\t\t\t\terror: function() {\r\n\t\t\t\t\t\tcallback();\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t});\r\n\r\n            select_diseases.disable();\r\n            select_diseases.clearOptions();\r\n            select_diseases.load(function(callback) {\r\n                xhr_diseases && xhr_diseases.abort();\r\n                xhr_diseases = $.ajax({\r\n                    type: 'get',\r\n                    url: '/api/preparation/' + preparation_id + '/diseases',\r\n                    success: function(results) {\r\n                        select_diseases.enable();\r\n                        callback(results);\r\n                    },\r\n                    error: function() {\r\n                        callback();\r\n                    }\r\n                })\r\n            });\r\n\t\t}\r\n    });\r\n\r\n    @if(null==(old('application_method_id')))\r\n\tselect_method.disable();\r\n    @else\r\n    select_method.setValue({{old('application_method_id')}});\r\n\t@endif\r\n\r\n    @if(null==(old('diseases')))\r\n\tselect_diseases.disable();\r\n    @else\r\n    select_diseases.setValue({{old('diseases')}});\r\n\t@endif\r\n\r\n\t$('#FactServiceId').selectize({\r\n        create: false,\r\n\t\tpersist: false,\r\n\t\tselectOnTab: true,\r\n        placeholder: 'Укажите услугу',\r\n        onChange: function(event) {\r\n            $('.preventions_only, .diagnostic_tests_only, .sanitary_works_only').hide();\r\n            var selected_service = $.grep(services, function(e) { return e['id'] == event; })[0];\r\n            var tab_index = selected_service?selected_service['tab_index']:0;\r\n            switch (tab_index)\r\n            {\r\n                case 1:\r\n                    $('.preventions_only').show();\r\n                    break;\r\n                case 2:\r\n                    $('.diagnostic_tests_only').show();\r\n                    break;\r\n                case 3:\r\n                    $('.sanitary_works_only').show();\r\n                    break;\r\n            }\r\n        }\r\n\t});\r\n\r\n});\r\n\r\n</script>\r\n@endsection\r\n"]],"start1":0,"start2":0,"length1":0,"length2":12902}],"length":12902}
{"ts":1500619121,"restoring":false,"user_id":4164,"patch":[{"diffs":[[0,"diseases"],[1,", xhr_receipts"],[0,";\r\n\tvar "]],"start1":8905,"start2":8905,"length1":16,"length2":30},{"diffs":[[0,"ion("],[-1,"event) {"],[1,"value) {\r\n            value=(!value || value==0)?this.selected_value:value;this.selected_value=value;\r\n\t\t\tif (!value.length) return;"],[0,"\r\n  "]],"start1":12199,"start2":12199,"length1":16,"length2":140},{"diffs":[[0,"     }\r\n"],[-1,""],[0,"\t});\r"],[1,"\n\t\r\n\t\r\n\tvar LoadReceipts = function(success) {\r\n\t\t\r\n\t\t\tselect_receipts.disable();\r\n\t\t\tselect_receipts.clearOptions();\r\n\t\t\tselect_receipts.load(function(callback) {\r\n\t\t\t\txhr_receipts && xhr_receipts.abort();\r\n\t\t\t\txhr_receipts = $.ajax({\r\n\t\t\t\t\ttype: 'post',\r\n\t\t\t\t\tdata: { service_id : select_service.selected_value,\r\n\t\t\t\t\t\t\tpreparation_used_doses:<?=isset($diagnosticTest)?$diagnosticTest['DiagnosticTest']['preparation_used_doses'] + $diagnosticTest['DiagnosticTest']['preparation_destroyed_doses']:0?>\r\n\t\t\t\t\t},\r\n\t\t\t\t\turl: '<?php echo $this->Html->url(array('controller'=>'subdivision_preparations','action'=>'getByService', 'ext'=>'json'));?>',\r\n\t\t\t\t\tsuccess: function(results) {\r\n\t\t\t\t\t\tsuccess(results);\r\n\t\t\t\t\t\tcallback(results);\r\n\t\t\t\t\t},\r\n\t\t\t\t\terror: function() {\r\n\t\t\t\t\t\tcallback();\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t});\r\n\t\t}\r"],[0,"\n\r\n});\r\n"]],"start1":12993,"start2":12993,"length1":21,"length2":835}],"length":13854}
{"ts":1500619504,"restoring":false,"user_id":4164,"patch":[{"diffs":[[0,"seases;\r"],[1,"\n\tvar select_service, $select_service\r"],[0,"\n\r\n    $"]],"start1":9042,"start2":9042,"length1":16,"length2":54},{"diffs":[[0,");\r\n"],[-1,"\r\n"],[0,"    "],[-1,"@if(null==(old('application_method_id')))\r\n\tselect_method.disable();\r\n    @else\r\n    select_method.setValue({{old('application_method_id')}});\r\n\t@endif\r\n\r\n    @if(null==(old('diseases')))"],[1,"\r\n    select_receipt = $select_receipt[0].selectize;\r\n"],[0,"\r\n\t"],[1,"$"],[0,"select_"],[-1,"diseases.disable();\r\n    @else\r\n    select_diseases.setValue({{old('diseases')}});\r\n\t@endif\r\n\r\n\t"],[1,"service = "],[0,"$('#"]],"start1":11773,"start2":11773,"length1":307,"length2":87},{"diffs":[[0,"});\r\n\t\r\n"],[1,"\tselect_service =  $select_service[0].selectize;\r\n\t\r\n\t@if(null==(old('application_method_id')))\r\n\tselect_method.disable();\r\n    @else\r\n    select_method.setValue({{old('application_method_id')}});\r\n\t@endif\r\n\r\n    @if(null==(old('diseases')))\r\n\tselect_diseases.disable();\r\n    @else\r\n    select_diseases.setValue({{old('diseases')}});\r\n\t@endif\r\n"],[0,"\t\r\n\tvar "]],"start1":12820,"start2":12820,"length1":16,"length2":360},{"diffs":[[0,"pts = $.ajax({\r\n"],[1,"\t\t\t\t    type: 'get',\r\n\t\t\t\t\turl: '/api/subdivisions/' + {{$object->subdivision_id}} + '/preparation_receipts?service_id=' + select_service.selected_value,\r\n"],[0,"\t\t\t\t\ttype: 'post"]],"start1":13389,"start2":13389,"length1":32,"length2":187}],"length":14171}
{"ts":1500619698,"restoring":false,"user_id":4164,"patch":[{"diffs":[[0,"alue"],[-1,",\r\n\t\t\t\t\ttype: 'post',\r\n\t\t\t\t\tdata: { service_id : select_service.selected_value,\r\n\t\t\t\t\t\t\tpreparation_used_doses:<?=isset($diagnosticTest)?$diagnosticTest['DiagnosticTest']['"],[1," + '&"],[0,"prep"]],"start1":13553,"start2":13553,"length1":180,"length2":13},{"diffs":[[0,"oses"],[1,"="],[0,"'"],[-1,"]"],[0," + "],[-1,"$diagnosticTest['DiagnosticTest']['preparation_destroyed_doses']:0?>\r\n\t\t\t\t\t},\r\n\t\t\t\t\turl: '<?php echo $this->Html->url(array('controller'=>'subdivision_preparations','action'=>'getByService', 'ext'=>'json'));?>'"],[1,"{{intval(old('preparation_used_doses'))}}"],[0,",\r\n\t"]],"start1":13580,"start2":13580,"length1":223,"length2":54}],"length":13835}
{"ts":1500619702,"restoring":false,"user_id":4164,"patch":[{"diffs":[[0," {\r\n"],[-1,"\t\t\r\n"],[0,"\t\t\ts"]],"start1":13212,"start2":13212,"length1":12,"length2":8}],"length":13831}
{"ts":1500620041,"restoring":false,"user_id":4164,"patch":[{"diffs":[[0,"]['id']:0;\r\n"],[1,"            \r\n"],[0,"            "]],"start1":10649,"start2":10649,"length1":24,"length2":38}],"length":13845}
{"ts":1500620319,"restoring":false,"user_id":4164,"patch":[{"diffs":[[0,"l>\r\n            "],[1,"<!--"],[0,"<select name=\"pr"]],"start1":6530,"start2":6530,"length1":32,"length2":36},{"diffs":[[0,"       </select>"],[1,"-->"],[0,"\r\n        </div>"]],"start1":7071,"start2":7071,"length1":32,"length2":35},{"diffs":[[0,"').selectize({\r\n"],[1,"        valueField: 'id',\r\n\t\tlabelField: 'name',\r\n\t\tsearchField: ['name'],\r\n"],[0,"        create: "]],"start1":9864,"start2":9864,"length1":32,"length2":108}],"length":13928}
{"ts":1500620377,"restoring":false,"user_id":4164,"patch":[{"diffs":[[0,"only').show();\r\n"],[1,"                    LoadReceipts(function(value) {\r\n                        console.log(value);\r\n                    });\r\n"],[0,"                "]],"start1":12628,"start2":12628,"length1":32,"length2":154}],"length":14050}
{"ts":1500620598,"restoring":false,"user_id":4164,"patch":[{"diffs":[[0,"препарат',\r\n"],[1,"        render: {\r\n            option: function(item, escape) {\r\n                return \r\n                  item.id + ' - ' + item.name + '(серия: ' + item.series + ')';\r\n            }\r\n        },\r\n"],[0,"        onIn"]],"start1":10095,"start2":10095,"length1":24,"length2":222}],"length":14248}
{"ts":1500620714,"restoring":false,"user_id":4164,"patch":[{"diffs":[[0,"   });\r\n    "],[1,"consolr.log($select_receipt);"],[0,"\r\n    select"]],"start1":12064,"start2":12064,"length1":24,"length2":53}],"length":14277}
{"ts":1500620724,"restoring":false,"user_id":4164,"patch":[{"diffs":[[0,"  consol"],[-1,"r"],[1,"e"],[0,".log($se"]],"start1":12074,"start2":12074,"length1":17,"length2":17}],"length":14277}
{"ts":1500620853,"restoring":false,"user_id":4164,"patch":[{"diffs":[[0,"        "],[-1,"<!--"],[0,"<select "]],"start1":6538,"start2":6538,"length1":20,"length2":16},{"diffs":[[0,"                "],[1,"<!--"],[0,"@foreach ($prepa"]],"start1":6633,"start2":6633,"length1":32,"length2":36},{"diffs":[[0,"     @endforeach"],[1,"-->"],[0,"\r\n            </"]],"start1":7048,"start2":7048,"length1":32,"length2":35},{"diffs":[[0,"/select>"],[-1,"-->"],[0,"\r\n      "]],"start1":7082,"start2":7082,"length1":19,"length2":16},{"diffs":[[0,");\r\n"],[-1,"    console.log($select_receipt);"],[0,"\r\n  "]],"start1":12068,"start2":12068,"length1":41,"length2":8}],"length":14244}
{"ts":1500620926,"restoring":false,"user_id":4164,"patch":[{"diffs":[[0,"index']:0;\r\n"],[1,"            console.log(tab_index);\r\n"],[0,"            "]],"start1":12702,"start2":12702,"length1":24,"length2":61}],"length":14281}
{"ts":1500620980,"restoring":false,"user_id":4164,"patch":[{"diffs":[[0,"0;\r\n"],[-1,"            console.log(tab_index);\r\n"],[0,"    "]],"start1":12710,"start2":12710,"length1":45,"length2":8}],"length":14244}
{"ts":1500620983,"restoring":false,"user_id":4164,"patch":[{"diffs":[[0,"index']:0;\r\n"],[1,"            console.log(tab_index\r\n"],[0,"            "]],"start1":12702,"start2":12702,"length1":24,"length2":59}],"length":14279}
{"ts":1500620985,"restoring":false,"user_id":4164,"patch":[{"diffs":[[0,"ab_index"],[1,");"],[0,"\r\n      "]],"start1":12739,"start2":12739,"length1":16,"length2":18}],"length":14281}
{"ts":1500621028,"restoring":false,"user_id":4164,"patch":[{"diffs":[[0,"id'] == "],[-1,"event"],[1,"value"],[0,"; })[0];"]],"start1":12612,"start2":12612,"length1":21,"length2":21}],"length":14281}
{"ts":1500621068,"restoring":false,"user_id":4164,"patch":[{"diffs":[[0,"lect_receipt"],[1,"s"],[0," = $select_r"]],"start1":12080,"start2":12080,"length1":24,"length2":25},{"diffs":[[0,"_receipt"],[1,"s"],[0,"[0].sele"]],"start1":12103,"start2":12103,"length1":16,"length2":17}],"length":14283}
{"ts":1500621100,"restoring":false,"user_id":4164,"patch":[{"diffs":[[0,"lect_receipt"],[1,"s"],[0," = $('#Prepa"]],"start1":9825,"start2":9825,"length1":24,"length2":25}],"length":14284}
{"ts":1500621183,"restoring":false,"user_id":4164,"patch":[{"diffs":[[0,"results) {\r\n"],[1,"\t\t\t\t\t    select_receipts.enable();\r\n"],[0,"\t\t\t\t\t\tsucces"]],"start1":14105,"start2":14105,"length1":24,"length2":60}],"length":14320}
{"ts":1500621267,"restoring":false,"user_id":4164,"patch":[{"diffs":[[0,"unction("],[-1,"success"],[1,"callback"],[0,") {\r\n\t\t\t"]],"start1":13649,"start2":13649,"length1":23,"length2":24},{"diffs":[[0,");\r\n"],[-1,"\t\t\t\t\t\tsuccess(results);\r\n"],[0,"\t\t\t\t"]],"start1":14150,"start2":14150,"length1":33,"length2":8}],"length":14296}
{"ts":1500621312,"restoring":false,"user_id":4164,"patch":[{"diffs":[[0," = function("],[-1,"callback"],[1,"success"],[0,") {\r\n\t\t\tsele"]],"start1":13645,"start2":13645,"length1":32,"length2":31},{"diffs":[[0,"ipts.enable();\r\n"],[1,"\t\t\t\t\t\tsuccess(results);\r\n"],[0,"\t\t\t\t\t\tcallback(r"]],"start1":14137,"start2":14137,"length1":32,"length2":57}],"length":14320}
{"ts":1500621362,"restoring":false,"user_id":4164,"patch":[{"diffs":[[0,".enable();\r\n"],[1,"\t\t\t\t\t    console.log(results);\r\n"],[0,"\t\t\t\t\t\tsucces"]],"start1":14141,"start2":14141,"length1":24,"length2":56}],"length":14352}
{"ts":1500621458,"restoring":false,"user_id":4164,"patch":[{"diffs":[[0,"esults);\r\n\t\t\t\t\t\t"],[1,"//"],[0,"callback(results"]],"start1":14200,"start2":14200,"length1":32,"length2":34}],"length":14354}
{"ts":1500630511,"restoring":false,"user_id":4164,"patch":[{"diffs":[[0,"\t\t\t\t"],[-1,"//"],[0,"call"]],"start1":14212,"start2":14212,"length1":10,"length2":8}],"length":14352}
{"ts":1500870876,"restoring":false,"user_id":4164,"patch":[{"diffs":[[0,"        "],[1,"/*"],[0,"display:"]],"start1":285,"start2":285,"length1":16,"length2":18},{"diffs":[[0,"ay:none;"],[1,"*/"],[0,"\r\n    }\r"]],"start1":300,"start2":300,"length1":16,"length2":18}],"length":14356}
{"ts":1500870928,"restoring":false,"user_id":4164,"patch":[{"diffs":[[0,"        "],[1,"/*"],[0,"render: "]],"start1":10112,"start2":10112,"length1":16,"length2":18},{"diffs":[[0,"   }\r\n        },"],[1,"*/"],[0,"\r\n        onInit"]],"start1":10294,"start2":10294,"length1":32,"length2":34}],"length":14360}
{"ts":1500871004,"restoring":false,"user_id":4164,"patch":[{"diffs":[[0,"        "],[-1,"/*"],[0,"render: "]],"start1":10112,"start2":10112,"length1":18,"length2":16},{"diffs":[[0," render: {\r\n"],[1,""],[0,"            "]],"start1":10119,"start2":10119,"length1":24,"length2":24},{"diffs":[[0,"        "],[1,"   '<span>' +"],[0," item.id"]],"start1":10211,"start2":10211,"length1":16,"length2":29},{"diffs":[[0,"ies + ')"],[-1,"'"],[1,"</span>"],[0,";\r\n     "]],"start1":10284,"start2":10284,"length1":17,"length2":23},{"diffs":[[0,"\n            }\r\n"],[1,""],[0,"        },*/\r\n  "]],"start1":10301,"start2":10301,"length1":32,"length2":32},{"diffs":[[0,"      },"],[-1,"*/"],[0,"\r\n      "]],"start1":10319,"start2":10319,"length1":18,"length2":16}],"length":14375}
{"ts":1500871021,"restoring":false,"user_id":4164,"patch":[{"diffs":[[0,")</span>"],[1,"'"],[0,";\r\n     "]],"start1":10291,"start2":10291,"length1":16,"length2":17}],"length":14376}
{"ts":1500871080,"restoring":false,"user_id":4164,"patch":[{"diffs":[[0,"      '<"],[-1,"span"],[1,"div"],[0,">' + ite"]],"start1":10216,"start2":10216,"length1":20,"length2":19},{"diffs":[[0,"')</"],[-1,"span"],[1,"div"],[0,">';\r"]],"start1":10289,"start2":10289,"length1":12,"length2":11}],"length":14374}
{"ts":1500871432,"restoring":false,"user_id":4164,"patch":[{"diffs":[[0,"\n            }\r\n"],[1,"            item: function(item, escape) {\r\n                return '<div>' +\r\n                    '<span>' + item.id + ' - ' + escape(item.name) + '(серия: ' + item.series + ')</span>' +\r\n                '</div>';\r\n            },\r\n            option: function(item, escape) {\r\n                var label = item.id + ' - ' + escape(item.name) + '(серия: ' + item.series + ');\r\n                return '<div>' +\r\n                    '<span class=\"label\">' + escape(label) + '</span>' +\r\n                '</div>';\r\n            }\r\n"],[0,"        },\r\n    "]],"start1":10300,"start2":10300,"length1":32,"length2":557}],"length":14899}
{"ts":1500871449,"restoring":false,"user_id":4164,"patch":[{"diffs":[[0,": {\r\n           "],[1," //"],[0," option: functio"]],"start1":10126,"start2":10126,"length1":32,"length2":35},{"diffs":[[0,") {\r\n           "],[1," //"],[0,"     return \r\n  "]],"start1":10175,"start2":10175,"length1":32,"length2":35},{"diffs":[[0,"rn \r\n           "],[1," //"],[0,"         '<div>'"]],"start1":10203,"start2":10203,"length1":32,"length2":35},{"diffs":[[0,">';\r\n           "],[1," //"],[0," }\r\n            "]],"start1":10305,"start2":10305,"length1":32,"length2":35}],"length":14911}
{"ts":1500871459,"restoring":false,"user_id":4164,"patch":[{"diffs":[[0,"ies + ')"],[1,"'"],[0,";\r\n     "]],"start1":10692,"start2":10692,"length1":16,"length2":17}],"length":14912}
{"ts":1500871485,"restoring":false,"user_id":4164,"patch":[{"diffs":[[0,"span"],[-1," class=\"label\""],[0,">' +"]],"start1":10760,"start2":10760,"length1":22,"length2":8}],"length":14898}
{"ts":1500871519,"restoring":false,"user_id":4164,"patch":[{"diffs":[[0,"\t\tsearchField: ["],[1,"'id', "],[0,"'name'],\r\n      "]],"start1":9935,"start2":9935,"length1":32,"length2":38}],"length":14904}
{"ts":1500871553,"restoring":false,"user_id":4164,"patch":[{"diffs":[[0,"'id', 'name'"],[1,", 'series'"],[0,"],\r\n        "]],"start1":9951,"start2":9951,"length1":24,"length2":34}],"length":14914}
{"ts":1500871586,"restoring":false,"user_id":4164,"patch":[{"diffs":[[0,"    "],[-1,"/*"],[0,"disp"]],"start1":289,"start2":289,"length1":10,"length2":8},{"diffs":[[0,"one;"],[-1,"*/"],[0,"\r\n  "]],"start1":302,"start2":302,"length1":10,"length2":8},{"diffs":[[0," {\r\n"],[-1,"            // option: function(item, escape) {\r\n            //     return \r\n            //         '<div>' + item.id + ' - ' + item.name + '(серия: ' + item.series + ')</div>';\r\n            // }\r\n"],[0,"    "]],"start1":10139,"start2":10139,"length1":205,"length2":8}],"length":14713}
{"ts":1500871994,"restoring":false,"user_id":4164,"patch":[{"diffs":[[0,"_receipt"],[1,"s"],[0,";\r\n    v"]],"start1":8966,"start2":8966,"length1":16,"length2":17}],"length":14714}
{"ts":1500872048,"restoring":false,"user_id":4164,"patch":[{"diffs":[[0,"es!!};\r\n    "],[1,"//"],[0,"var receipts"]],"start1":8821,"start2":8821,"length1":24,"length2":26},{"diffs":[[0,"n;\r\n            "],[1,"//"],[0,"var selected_pre"]],"start1":11076,"start2":11076,"length1":32,"length2":34},{"diffs":[[0,"            "],[1,"//"],[0,"var preparat"]],"start1":11193,"start2":11193,"length1":24,"length2":26},{"diffs":[[0,"]['id']:0;\r\n"],[1,"            var preparation_id = this.options[value].preparation_id;\r\n"],[0,"            "]],"start1":11299,"start2":11299,"length1":24,"length2":94}],"length":14790}
{"ts":1500872105,"restoring":false,"user_id":4164,"patch":[{"diffs":[[0,"n;\r\n"],[-1,"            //var selected_preparation_receipt = $.grep(receipts, function(e) { return e['id'] == value; })[0];\r\n            //var preparation_id = selected_preparation_receipt?selected_preparation_receipt['preparation']['id']:0;\r\n"],[0,"    "]],"start1":11076,"start2":11076,"length1":239,"length2":8}],"length":14559}
{"ts":1500872110,"restoring":false,"user_id":4164,"patch":[{"diffs":[[0,"!};\r"],[-1,"\n    //var receipts = {!!(string)$preparation_receipts!!};\r"],[0,"\n\r\n "]],"start1":8824,"start2":8824,"length1":67,"length2":8}],"length":14500}
{"ts":1500872119,"restoring":false,"user_id":4164,"patch":[{"diffs":[[0,"        "],[1,"    "],[0,"LoadRece"]],"start1":13038,"start2":13038,"length1":16,"length2":20}],"length":14504}
{"ts":1500875184,"restoring":false,"user_id":4164,"patch":[{"diffs":[[0,"        "],[-1,"    "],[0,"LoadRece"]],"start1":13038,"start2":13038,"length1":20,"length2":16},{"diffs":[[0,"    "],[-1,"console.log(value);"],[0,"\r\n  "]],"start1":13098,"start2":13098,"length1":27,"length2":8}],"length":14481}
{"ts":1500875195,"restoring":false,"user_id":4164,"patch":[{"diffs":[[0,");\r\n"],[-1,"\t\t\t\t\t    console.log(results);\r\n"],[0,"\t\t\t\t"]],"start1":14278,"start2":14278,"length1":40,"length2":8}],"length":14449}
{"ts":1500875228,"restoring":false,"user_id":4164,"patch":[{"diffs":[[0,"e) {"],[-1,"\r\n                        \r\n                    "],[0,"});\r"]],"start1":13072,"start2":13072,"length1":56,"length2":8}],"length":14401}
{"ts":1500877045,"restoring":false,"user_id":4164,"patch":[{"diffs":[[0,"ess) {\r\n"],[1,"\t        console.log($('#PreparationUsedDoses').val());\r\n"],[0,"\t\t\tselec"]],"start1":13742,"start2":13742,"length1":16,"length2":73}],"length":14458}
{"ts":1500877120,"restoring":false,"user_id":4164,"patch":[{"diffs":[[0,"0;\r\n"],[-1,"            console.log(tab_index);\r\n"],[0,"    "]],"start1":12861,"start2":12861,"length1":45,"length2":8}],"length":14421}
{"ts":1500877122,"restoring":false,"user_id":4164,"patch":[{"diffs":[[0,"x']:0;\r\n"],[1,"            console.log(tab_index);\r\n"],[0,"        "]],"start1":12857,"start2":12857,"length1":16,"length2":53}],"length":14458}
{"ts":1500877197,"restoring":false,"user_id":4164,"patch":[{"diffs":[[0,"\t\r\n\t"],[-1,"var LoadReceipts = function(success) {\r\n\t        console.log($('#PreparationUsedDoses').val());"],[1,"$('#PreparationUsedDoses').change(function(value){\r\n\t    console.log(value);\r\n\t    console.log($('#PreparationUsedDoses').val());    \r\n\t});\r\n\t\r\n\t\r\n\tvar LoadReceipts = function(success) {"],[0,"\r\n\t\t"]],"start1":13706,"start2":13706,"length1":103,"length2":194}],"length":14549}
{"ts":1500878561,"restoring":false,"user_id":4164,"patch":[{"diffs":[[0,"});\r\n\t\r\n"],[1,"\t$('#PreparationUsedDoses').change(function(event){\r\n\t    LoadReceipts(function(value) {});\r\n\t});\r\n\t\r\n"],[0,"\tselect_"]],"start1":13354,"start2":13354,"length1":16,"length2":118},{"diffs":[[0,"ctize;\r\n"],[-1,""],[0,"\t\r\n\t@if("]],"start1":13506,"start2":13506,"length1":16,"length2":16},{"diffs":[[0,"if\r\n"],[-1,"\t\r\n\t$('#PreparationUsedDoses').change(function(value){\r\n\t    console.log(value);\r\n\t    console.log($('#PreparationUsedDoses').val());    \r\n\t});\r\n\t\r\n\t"],[0,"\r\n"],[1,""],[0,"\tvar"]],"start1":13804,"start2":13804,"length1":159,"length2":10},{"diffs":[[0,"learOptions();\r\n"],[1,"\t\t\tvar preparation_used_doses = $('#PreparationUsedDoses').val();\r\n"],[0,"\t\t\tselect_receip"]],"start1":13902,"start2":13902,"length1":32,"length2":99},{"diffs":[[0,"' + "],[-1,"{{intval(old('"],[0,"prep"]],"start1":14283,"start2":14283,"length1":22,"length2":8},{"diffs":[[0,"oses"],[-1,"'))}}"],[0,",\r\n\t"]],"start1":14305,"start2":14305,"length1":13,"length2":8}],"length":14550}
{"ts":1500878709,"restoring":false,"user_id":4164,"patch":[{"diffs":[[0,"d_value=value;\r\n"],[1,"\t\t\tconsole.log(value);\r\n"],[0,"\t\t\tif (!value.le"]],"start1":10974,"start2":10974,"length1":32,"length2":56}],"length":14574}
{"ts":1500880025,"restoring":false,"user_id":4164,"patch":[{"diffs":[[0,"ength) return;\r\n"],[1,"\t\t\tconsole.log(this.options);\r\n"],[0,"            var "]],"start1":11029,"start2":11029,"length1":32,"length2":63}],"length":14605}
{"ts":1500880117,"restoring":false,"user_id":4164,"patch":[{"diffs":[[0,"rn;\r\n\t\t\t"],[-1,"console.log("],[1,"if (!"],[0,"this.opt"]],"start1":11040,"start2":11040,"length1":28,"length2":21},{"diffs":[[0,"options)"],[1," return"],[0,";\r\n     "]],"start1":11058,"start2":11058,"length1":16,"length2":23}],"length":14605}
{"ts":1500880145,"restoring":false,"user_id":4164,"patch":[{"diffs":[[0,".options"],[1,".length"],[0,") return"]],"start1":11057,"start2":11057,"length1":16,"length2":23}],"length":14612}
{"ts":1501500673,"restoring":false,"user_id":4164,"patch":[{"diffs":[[0,"});\r\n\t\r\n"],[1,"// "],[0,"\t$('#Pre"]],"start1":13416,"start2":13416,"length1":16,"length2":19},{"diffs":[[0,"vent){\r\n"],[1,"// "],[0,"\t    Loa"]],"start1":13472,"start2":13472,"length1":16,"length2":19},{"diffs":[[0,") {});\r\n"],[1,"// "],[0,"\t});\r\n\t\r"]],"start1":13515,"start2":13515,"length1":16,"length2":19}],"length":14621}
{"ts":1501501269,"restoring":false,"user_id":4164,"patch":[{"diffs":[[0,"\n       "],[1," //"],[0," render:"]],"start1":10067,"start2":10067,"length1":16,"length2":19},{"diffs":[[0,"        "],[1,"//"],[0,"    "],[1," "],[0,"item: fu"]],"start1":10090,"start2":10090,"length1":20,"length2":23},{"diffs":[[0,"cape) {\r\n       "],[1," //"],[0,"         return "]],"start1":10128,"start2":10128,"length1":32,"length2":35},{"diffs":[[0,"div>' +\r\n       "],[1," //"],[0,"             '<s"]],"start1":10165,"start2":10165,"length1":32,"length2":35},{"diffs":[[0,"pan>' +\r\n       "],[1," //"],[0,"         '</div>"]],"start1":10278,"start2":10278,"length1":32,"length2":35},{"diffs":[[0,">';\r\n       "],[1," //"],[0,"     },\r\n   "]],"start1":10312,"start2":10312,"length1":24,"length2":27},{"diffs":[[0,"        "],[1,"//"],[0,"    "],[1," "],[0,"option: "]],"start1":10336,"start2":10336,"length1":20,"length2":23},{"diffs":[[0,"cape) {\r\n       "],[1," //"],[0,"         var lab"]],"start1":10376,"start2":10376,"length1":32,"length2":35},{"diffs":[[0," + ')';\r\n       "],[1," //"],[0,"         return "]],"start1":10478,"start2":10478,"length1":32,"length2":35},{"diffs":[[0,"div>' +\r\n       "],[1," //"],[0,"             '<s"]],"start1":10515,"start2":10515,"length1":32,"length2":35},{"diffs":[[0,"pan>' +\r\n       "],[1," //"],[0,"         '</div>"]],"start1":10578,"start2":10578,"length1":32,"length2":35},{"diffs":[[0,"/div>';\r\n       "],[1," //"],[0,"     }\r\n        "]],"start1":10608,"start2":10608,"length1":32,"length2":35},{"diffs":[[0,"  }\r\n       "],[1," //"],[0," },\r\n       "]],"start1":10630,"start2":10630,"length1":24,"length2":27}],"length":14660}
{"ts":1501501282,"restoring":false,"user_id":4164,"patch":[{"diffs":[[0,"\n       "],[-1," //"],[0," render:"]],"start1":10067,"start2":10067,"length1":19,"length2":16},{"diffs":[[0,"        "],[-1,"//"],[0,"    "],[-1," "],[0,"item: fu"]],"start1":10087,"start2":10087,"length1":23,"length2":20},{"diffs":[[0,"cape) {\r\n       "],[-1," //"],[0,"         return "]],"start1":10122,"start2":10122,"length1":35,"length2":32},{"diffs":[[0,"div>' +\r\n       "],[-1," //"],[0,"             '<s"]],"start1":10156,"start2":10156,"length1":35,"length2":32},{"diffs":[[0,"pan>' +\r\n       "],[-1," //"],[0,"         '</div>"]],"start1":10266,"start2":10266,"length1":35,"length2":32},{"diffs":[[0,">';\r\n       "],[-1," //"],[0,"     },\r\n   "]],"start1":10297,"start2":10297,"length1":27,"length2":24},{"diffs":[[0,"        "],[-1,"//"],[0,"    "],[-1," "],[0,"option: "]],"start1":10318,"start2":10318,"length1":23,"length2":20},{"diffs":[[0,"cape) {\r\n       "],[-1," //"],[0,"         var lab"]],"start1":10355,"start2":10355,"length1":35,"length2":32},{"diffs":[[0," + ')';\r\n       "],[-1," //"],[0,"         return "]],"start1":10454,"start2":10454,"length1":35,"length2":32},{"diffs":[[0,"div>' +\r\n       "],[-1," //"],[0,"             '<s"]],"start1":10488,"start2":10488,"length1":35,"length2":32},{"diffs":[[0,"' +\r\n       "],[-1," //"],[0,"         '</"]],"start1":10552,"start2":10552,"length1":27,"length2":24},{"diffs":[[0,"\n       "],[-1," //"],[0,"     }\r\n"]],"start1":10583,"start2":10583,"length1":19,"length2":16},{"diffs":[[0,"    "],[-1," //"],[0," },\r"]],"start1":10602,"start2":10602,"length1":11,"length2":8}],"length":14621}
{"ts":1501501563,"restoring":false,"user_id":4164,"patch":[{"diffs":[[0,"lue) {\r\n"],[1,"\t\t    console.log(value);\r\n"],[0,"\t\t\tvalue"]],"start1":10898,"start2":10898,"length1":16,"length2":43}],"length":14648}
{"ts":1501501643,"restoring":false,"user_id":4164,"patch":[{"diffs":[[0,".log(value);"],[1,"return;"],[0,"\r\n\t\t\tvalue=("]],"start1":10919,"start2":10919,"length1":24,"length2":31}],"length":14655}
{"ts":1501501731,"restoring":false,"user_id":4164,"patch":[{"diffs":[[0,"(value);"],[-1,"return;"],[0,"\r\n\t\t\tval"]],"start1":10923,"start2":10923,"length1":23,"length2":16}],"length":14648}
{"ts":1501501756,"restoring":false,"user_id":4164,"patch":[{"diffs":[[0," {\r\n"],[-1,"\t\t    console.log(value);\r\n"],[0,"\t\t\tv"]],"start1":10902,"start2":10902,"length1":35,"length2":8},{"diffs":[[0,"e;\r\n"],[-1,"\t\t\tconsole.log(value);\r\n"],[0,"\t\t\ti"]],"start1":10986,"start2":10986,"length1":32,"length2":8}],"length":14597}
{"ts":1501501786,"restoring":false,"user_id":4164,"patch":[{"diffs":[[0,"ength) return;\r\n"],[1,"\t\t\t\t\t\tconsole.log(value);\r\n"],[0,"            var "]],"start1":11043,"start2":11043,"length1":32,"length2":59}],"length":14624}
{"ts":1501501808,"restoring":false,"user_id":4164,"patch":[{"diffs":[[0,"return;\r\n\t\t\t"],[1,"//"],[0,"if (!this.op"]],"start1":11012,"start2":11012,"length1":24,"length2":26},{"diffs":[[0,"n;\r\n"],[-1,"\t\t\t\t\t\tconsole.log(value);\r\n"],[0,"    "]],"start1":11057,"start2":11057,"length1":35,"length2":8}],"length":14599}
{"ts":1501502270,"restoring":false,"user_id":4164,"patch":[{"diffs":[[0,"});\r\n\t\r\n"],[1,"\t\r\n"],[0,"// \t$('#"]],"start1":13394,"start2":13394,"length1":16,"length2":19}],"length":14602}
{"ts":1501503646,"restoring":false,"user_id":4164,"patch":[{"diffs":[[0,"ces!!};\r"],[1,"\n    var animals = {!!(string)$animals!!};\r"],[0,"\n\r\n    v"]],"start1":8820,"start2":8820,"length1":16,"length2":59},{"diffs":[[0,"diseases"],[1,"?animal_id"],[0,"',\r\n    "]],"start1":11971,"start2":11971,"length1":16,"length2":26}],"length":14655}
{"ts":1501503830,"restoring":false,"user_id":4164,"patch":[{"diffs":[[0,"allback) {\r\n"],[1,"                var selected_animal = $.grep(animals, function(e) { return e['id'] == $('#FactAnimalId').val(); })[0];\r\n"],[0,"            "]],"start1":11763,"start2":11763,"length1":24,"length2":144},{"diffs":[[0,"?animal_"],[1,"type_id='+selected_animal.animal_type_"],[0,"id"],[-1,"'"],[0,",\r\n     "]],"start1":12099,"start2":12099,"length1":19,"length2":56}],"length":14812}
{"ts":1501503834,"restoring":false,"user_id":4164,"patch":[{"diffs":[[0,"ype_id='"],[-1,"+"],[1," + "],[0,"selected"]],"start1":12108,"start2":12108,"length1":17,"length2":19}],"length":14814}
{"ts":1501503857,"restoring":false,"user_id":4164,"patch":[{"diffs":[[0,".val(); })[0];\r\n"],[1,"                console.log('animal_type_id:' + selected_animal.animal_type_id);\r\n"],[0,"                "]],"start1":11879,"start2":11879,"length1":32,"length2":114}],"length":14896}
{"ts":1501573961,"restoring":false,"user_id":4164,"patch":[{"diffs":[[0,"      \r\n"],[1,"            LoadMethod(function(value) {});\r\n            \r\n"],[0,"        "]],"start1":11180,"start2":11180,"length1":16,"length2":75},{"diffs":[[0,"\t@endif\r"],[1,"\n\t\r\n\tvar LoadMethods = function(preparation_id, success) {\r\n\t    select_method.disable();\r\n\t\tselect_method.clearOptions();\r\n\t\tselect_method.load(function(callback) {\r\n\t\t\txhr_method && xhr_method.abort();\r\n\t\t\txhr_method = $.ajax({\r\n\t\t\t\ttype: 'get',\r\n\t\t\t\turl: '/api/preparation/' + preparation_id + '/application_methods',\r\n\t\t\t\tsuccess: function(results) {\r\n\t\t\t\t\tselect_method.enable();\r\n\t\t\t\t\tcallback(results);\r\n\t\t\t\t},\r\n\t\t\t\terror: function() {\r\n\t\t\t\t\tcallback();\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t});\r\n\t}\r"],[0,"\n\r\n\tvar "]],"start1":14204,"start2":14204,"length1":16,"length2":502}],"length":15441}
{"ts":1501573991,"restoring":false,"user_id":4164,"patch":[{"diffs":[[0,"dMethod("],[1,"preparation_id, "],[0,"function"]],"start1":11203,"start2":11203,"length1":16,"length2":32},{"diffs":[[0,"\r\n            \r\n"],[1,"// "],[0,"            sele"]],"start1":11247,"start2":11247,"length1":32,"length2":35},{"diffs":[[0,"hod.disable();\r\n"],[1,"// "],[0,"\t\t\tselect_method"]],"start1":11288,"start2":11288,"length1":32,"length2":35},{"diffs":[[0,"Options();\r\n"],[1,"// "],[0,"\t\t\tselect_me"]],"start1":11329,"start2":11329,"length1":24,"length2":27},{"diffs":[[0,"on(callback) {\r\n"],[1,"// "],[0,"\t\t\t\txhr_method &"]],"start1":11372,"start2":11372,"length1":32,"length2":35},{"diffs":[[0,"ethod.abort();\r\n"],[1,"// "],[0,"\t\t\t\txhr_method ="]],"start1":11414,"start2":11414,"length1":32,"length2":35},{"diffs":[[0,"= $.ajax({\r\n"],[1,"// "],[0,"\t\t\t\t\ttype: '"]],"start1":11448,"start2":11448,"length1":24,"length2":27},{"diffs":[[0,"\t\ttype: 'get',\r\n"],[1,"// "],[0,"\t\t\t\t\turl: '/api/"]],"start1":11466,"start2":11466,"length1":32,"length2":35},{"diffs":[[0,"_methods',\r\n"],[1,"// "],[0,"\t\t\t\t\tsuccess"]],"start1":11547,"start2":11547,"length1":24,"length2":27},{"diffs":[[0,"results) {\r\n"],[1,"// "],[0,"\t\t\t\t\t\tselect"]],"start1":11585,"start2":11585,"length1":24,"length2":27},{"diffs":[[0,".enable();\r\n"],[1,"// "],[0,"\t\t\t\t\t\tcallba"]],"start1":11619,"start2":11619,"length1":24,"length2":27},{"diffs":[[0,"back(results);\r\n"],[1,"// "],[0,"\t\t\t\t\t},\r\n\t\t\t\t\ter"]],"start1":11644,"start2":11644,"length1":32,"length2":35},{"diffs":[[0,");\r\n// \t\t\t\t\t},\r\n"],[1,"// "],[0,"\t\t\t\t\terror: func"]],"start1":11656,"start2":11656,"length1":32,"length2":35},{"diffs":[[0,": function() {\r\n"],[1,"// "],[0,"\t\t\t\t\t\tcallback()"]],"start1":11685,"start2":11685,"length1":32,"length2":35},{"diffs":[[0,"ack();\r\n"],[1,"// "],[0,"\t\t\t\t\t}\r\n"],[1,"// "],[0,"\t\t\t\t})\r\n"],[1,"// "],[0,"\t\t\t});\r\n"]],"start1":11715,"start2":11715,"length1":32,"length2":41},{"diffs":[[0,".enable();\r\n"],[1,"\t\t\t\t\tsuccess(results);\r\n"],[0,"\t\t\t\t\tcallbac"]],"start1":14650,"start2":14650,"length1":24,"length2":48}],"length":15529}
{"ts":1501574019,"restoring":false,"user_id":4164,"patch":[{"diffs":[[0,"adMethod"],[1,"s"],[0,"(prepara"]],"start1":11202,"start2":11202,"length1":16,"length2":17}],"length":15530}
{"ts":1501574125,"restoring":false,"user_id":4164,"patch":[{"diffs":[[0,"      \r\n"],[-1,"//"],[0,"        "]],"start1":11256,"start2":11256,"length1":18,"length2":16},{"diffs":[[0,"    "],[-1," select_method.disable();\r\n// \t\t\tselect_method.clearOptions();\r\n// \t\t\tselect_method.load(function(callback) {\r\n// \t\t\t\txhr_method && xhr_method.abort();\r\n// \t\t\t\txhr_method = $.ajax({\r\n// \t\t\t\t\ttype: 'get',\r\n// \t\t\t\t\turl: '/api/preparation/' + preparation_id + '/application_methods',\r\n// \t\t\t\t\tsuccess: function(results) {\r\n// \t\t\t\t\t\tselect_method.enable();\r\n// \t\t\t\t\t\tcallback(results);\r\n// \t\t\t\t\t},\r\n// \t\t\t\t\terror: function() {\r\n// \t\t\t\t\t\tcallback();\r\n// \t\t\t\t\t}\r\n// \t\t\t\t})\r\n// \t\t\t});\r\n"],[1,"\r\n            "],[0,"\r\n  "]],"start1":11272,"start2":11272,"length1":487,"length2":22},{"diffs":[[0,"dif\r\n\t\r\n"],[1,"\tvar LoadDiseases = function(preparation_id, success) {\r\n\t    select_diseases.disable();\r\n        select_diseases.clearOptions();\r\n        select_diseases.load(function(callback) {\r\n            var selected_animal = $.grep(animals, function(e) { return e['id'] == $('#FactAnimalId').val(); })[0];\r\n            console.log('animal_type_id:' + selected_animal.animal_type_id);\r\n            xhr_diseases && xhr_diseases.abort();\r\n            xhr_diseases = $.ajax({\r\n                type: 'get',\r\n                url: '/api/preparation/' + preparation_id + '/diseases?animal_type_id=' + selected_animal.animal_type_id,\r\n                success: function(results) {\r\n                    select_diseases.enable();\r\n                    callback(results);\r\n                },\r\n                error: function() {\r\n                    callback();\r\n                }\r\n            })\r\n        });\r\n\t}\r\n\t\r\n"],[0,"\tvar Loa"]],"start1":13806,"start2":13806,"length1":16,"length2":911}],"length":15958}
{"ts":1501574160,"restoring":false,"user_id":4164,"patch":[{"diffs":[[0,"    "],[-1,"\r\n            select_diseases.disable();\r\n            select_diseases.clearOptions();\r\n            select_diseases.load(function(callback) {\r\n                var selected_animal = $.grep(animals, function(e) { return e['id'] == $('#FactAnimalId').val(); })[0];\r\n                console.log('animal_type_id:' + selected_animal.animal_type_id);\r\n                xhr_diseases && xhr_diseases.abort();\r\n                xhr_diseases = $.ajax({\r\n                    type: 'get',\r\n                    url: '/api/preparation/' + preparation_id + '/diseases?animal_type_id=' + selected_animal.animal_type_id,\r\n                    success: function(results) {\r\n                        select_diseases.enable();\r\n                        callback(results);\r\n                    },\r\n                    error: function() {\r\n                        callback();\r\n                    }\r\n                })\r\n            });"],[1,"LoadDiseases(preparation_id, function(value) {});\r\n            "],[0,"\r\n\t\t"]],"start1":11286,"start2":11286,"length1":914,"length2":71},{"diffs":[[0,"ases.enable();\r\n"],[1,"\t\t\t\t\tsuccess(results);\r\n"],[0,"                "]],"start1":13665,"start2":13665,"length1":32,"length2":56}],"length":15139}
{"ts":1501574168,"restoring":false,"user_id":4164,"patch":[{"diffs":[[0,");\r\n"],[-1,"            \r\n            "],[0,"\r\n  "]],"start1":11246,"start2":11246,"length1":34,"length2":8}],"length":15113}
{"ts":1501574256,"restoring":false,"user_id":4164,"patch":[{"diffs":[[0,"eate: false,\r\n\t\t"],[1,"//"],[0,"persist: false,\r"]],"start1":9232,"start2":9232,"length1":32,"length2":34},{"diffs":[[0,"eate: false,\r\n\t\t"],[1,"//"],[0,"persist: false,\r"]],"start1":9540,"start2":9540,"length1":32,"length2":34},{"diffs":[[0,"eate: false,\r\n\t\t"],[1,"//"],[0,"persist: false,\r"]],"start1":9974,"start2":9974,"length1":32,"length2":34}],"length":15119}
{"ts":1501580742,"restoring":false,"user_id":4164,"patch":[{"diffs":[[0,"Diseases"],[1,"ByPeparationAndAnimal"],[0,"(prepara"]],"start1":11274,"start2":11274,"length1":16,"length2":37},{"diffs":[[0,"lse,\r\n\t\t"],[1,"//"],[0,"persist:"]],"start1":11498,"start2":11498,"length1":16,"length2":18},{"diffs":[[0,"Diseases"],[1,"ByPeparationAndAnimal"],[0," = funct"]],"start1":12983,"start2":12983,"length1":16,"length2":37}],"length":15163}
{"ts":1501580760,"restoring":false,"user_id":4164,"patch":[{"diffs":[[0,"});\r\n\t}\r\n\t\r\n"],[1,"\tvar LoadDiseasesByService = function(preparation_id, success) {\r\n\t    select_diseases.disable();\r\n        select_diseases.clearOptions();\r\n        select_diseases.load(function(callback) {\r\n            var selected_animal = $.grep(animals, function(e) { return e['id'] == $('#FactAnimalId').val(); })[0];\r\n            console.log('animal_type_id:' + selected_animal.animal_type_id);\r\n            xhr_diseases && xhr_diseases.abort();\r\n            xhr_diseases = $.ajax({\r\n                type: 'get',\r\n                url: '/api/preparation/' + preparation_id + '/diseases?animal_type_id=' + selected_animal.animal_type_id,\r\n                success: function(results) {\r\n                    select_diseases.enable();\r\n\t\t\t\t\tsuccess(results);\r\n                    callback(results);\r\n                },\r\n                error: function() {\r\n                    callback();\r\n                }\r\n            })\r\n        });\r\n\t}\r\n\t\r\n"],[0,"\tvar LoadMet"]],"start1":13902,"start2":13902,"length1":24,"length2":952}],"length":16091}
{"ts":1501581786,"restoring":false,"user_id":4164,"patch":[{"diffs":[[0,"api/"],[-1,"preparation/' + preparation_id + '/"],[0,"dise"]],"start1":13512,"start2":13512,"length1":43,"length2":8},{"diffs":[[0,"l.animal_type_id"],[1," + 'preparation_id=' + preparation_id"],[0,",\r\n             "]],"start1":13558,"start2":13558,"length1":32,"length2":69},{"diffs":[[0," = function("],[-1,"preparation"],[1,"service"],[0,"_id, success"]],"start1":13942,"start2":13942,"length1":35,"length2":31}],"length":16089}
{"ts":1501582082,"restoring":false,"user_id":4164,"patch":[{"diffs":[[0,"api/"],[-1,"preparation/' + preparation_id + '/diseases?animal_type_id=' + selected_animal.animal_typ"],[1,"diseases?service_id=' + servic"],[0,"e_id"]],"start1":14438,"start2":14438,"length1":97,"length2":38}],"length":16030}
{"ts":1501583445,"restoring":false,"user_id":4164,"patch":[{"diffs":[[0,"als!!};\r"],[1,"\n    \r\n    var tab_index;\r"],[0,"\n\r\n    v"]],"start1":8863,"start2":8863,"length1":16,"length2":42},{"diffs":[[0,"            "],[-1,"var "],[0,"tab_index = "]],"start1":11963,"start2":11963,"length1":28,"length2":24}],"length":16052}
{"ts":1501583580,"restoring":false,"user_id":4164,"patch":[{"diffs":[[0,"            "],[1,"\r\n            \r\n            switch (tab_index)\r\n            {\r\n                case 1:\r\n                    $('.preventions_only').show();\r\n                    "],[0,"LoadMethods("]],"start1":11220,"start2":11220,"length1":24,"length2":184},{"diffs":[[0,"alue) {});\r\n"],[-1,"\r\n"],[1,"        "],[0,"            "]],"start1":11430,"start2":11430,"length1":26,"length2":32},{"diffs":[[0,"on(value) {});\r\n"],[1,"                    break;\r\n                case 2:\r\n                    $('.diagnostic_tests_only').show();\r\n                    LoadDiseasesByService(preparation_id, function(value) {});\r\n                    break;\r\n                case 3:\r\n                    $('.sanitary_works_only').show();\r\n                    break;\r\n            }\r\n"],[0,"            \r\n\t\t"]],"start1":11518,"start2":11518,"length1":32,"length2":373},{"diffs":[[0," {\r\n"],[-1,"            var selected_animal = $.grep(animals, function(e) { return e['id'] == $('#FactAnimalId').val(); })[0];\r\n            console.log('animal_type_id:' + selected_animal.animal_type_id);\r\n"],[0,"    "]],"start1":14628,"start2":14628,"length1":202,"length2":8}],"length":16365}
{"ts":1501583653,"restoring":false,"user_id":4164,"patch":[{"diffs":[[0,"Service("],[-1,"preparation_id"],[1,"select_service.selected_value"],[0,", functi"]],"start1":11678,"start2":11678,"length1":30,"length2":45}],"length":16380}
{"ts":1501584264,"restoring":false,"user_id":4164,"patch":[{"diffs":[[0,"1:\r\n"],[-1,"                    $('.preventions_only').show();\r\n"],[0,"    "]],"start1":11316,"start2":11316,"length1":60,"length2":8},{"diffs":[[0,"on(value) {});\r\n"],[1,""],[0,"                "]],"start1":11374,"start2":11374,"length1":32,"length2":32},{"diffs":[[0,"2:\r\n"],[-1,"                    $('.diagnostic_tests_only').show();\r\n"],[0,"    "]],"start1":11531,"start2":11531,"length1":65,"length2":8},{"diffs":[[0,"        break;\r\n"],[1,""],[0,"                "]],"start1":11642,"start2":11642,"length1":32,"length2":32},{"diffs":[[0,"3:\r\n"],[-1,"                    $('.sanitary_works_only').show();\r\n"],[0,"    "]],"start1":11679,"start2":11679,"length1":63,"length2":8},{"diffs":[[0,"only').show();\r\n"],[1,"                    LoadReceipts(function(value) {});\r\n"],[0,"                "]],"start1":12706,"start2":12706,"length1":32,"length2":87}],"length":16271}
{"ts":1501586032,"restoring":false,"user_id":4164,"patch":[{"diffs":[[0,"e_id + '"],[1,"&"],[0,"preparat"]],"start1":14005,"start2":14005,"length1":16,"length2":17}],"length":16272}
{"ts":1501587402,"restoring":false,"user_id":4164,"patch":[{"diffs":[[0,"seases, $select_"],[-1,""],[0,""],[1,"prev_diseases, $select_test_"],[0,"diseases;\r\n\tvar "]],"start1":9044,"start2":9044,"length1":32,"length2":60},{"diffs":[[0,"\r\n\r\n    $select_"],[1,"prev_"],[0,"diseases = $('#P"]],"start1":9135,"start2":9135,"length1":32,"length2":37},{"diffs":[[0,"и'\r\n    });\r"],[1,"\n    \r\n    $select_test_diseases = $('#DiagnosticTestDiseases').selectize({\r\n        valueField: 'id',\r\n\t\tlabelField: 'name',\r\n\t\tsearchField: ['name'],\r\n        create: false,\r\n\t\t//persist: false,\r\n\t\tselectOnTab: true,\r\n        plugins: ['restore_on_backspace'],\r\n        placeholder: 'Укажите болезни'\r\n    });\r"],[0,"\n\r\n    $sele"]],"start1":9428,"start2":9428,"length1":24,"length2":336},{"diffs":[[0,"ения'\r\n    });\r\n"],[-1,""],[0,""],[1,"    "],[0,"\r\n    select_met"]],"start1":10056,"start2":10056,"length1":32,"length2":36},{"diffs":[[0,"ze;\r"],[-1,"\n    select_diseases = $select_diseases[0].selectize;\r"],[0,"\n\r\n "]],"start1":10123,"start2":10123,"length1":62,"length2":8},{"diffs":[[0,"    "],[-1,"LoadDiseasesByPeparationAndAnimal"],[1,"select_diseases = $select_prev_diseases[0].selectize;\r\n                    LoadPreventionDiseases"],[0,"(pre"]],"start1":11701,"start2":11701,"length1":41,"length2":105},{"diffs":[[0,"        "],[-1,"LoadDiseasesByService"],[1,"select_diseases = $select_test_diseases[0].selectize;\r\n                    LoadDiagnosticTestDiseases"],[0,"(select_"]],"start1":11906,"start2":11906,"length1":37,"length2":117},{"diffs":[[0,"Load"],[-1,"DiseasesByPeparationAndAnimal"],[1,"PreventionDiseases"],[0," = f"]],"start1":13853,"start2":13853,"length1":37,"length2":26},{"diffs":[[0,"adDi"],[-1,"seasesByService"],[1,"agnosticTestDiseases"],[0," = f"]],"start1":14787,"start2":14787,"length1":23,"length2":28}],"length":16705}
{"ts":1501588306,"restoring":false,"user_id":4164,"patch":[{"diffs":[[0,"\n\t@endif\r\n\r\n"],[1,"    var SetOrDisableDiseases = function() {\r\n    "],[0,"    @if(null"]],"start1":13698,"start2":13698,"length1":24,"length2":73},{"diffs":[[0,"seases')))\r\n"],[1,"    "],[0,"\tselect_dise"]],"start1":13781,"start2":13781,"length1":24,"length2":28},{"diffs":[[0,"disable();\r\n    "],[1," "],[1,"   "],[0,"@else\r\n"],[1,"    "],[0,"    select_disea"]],"start1":13814,"start2":13814,"length1":39,"length2":47},{"diffs":[[0,"diseases')}});\r\n"],[1,"    "],[0,"\t@endif\r\n\t\r\n\tvar"]],"start1":13881,"start2":13881,"length1":32,"length2":36},{"diffs":[[0,"@endif\r\n"],[1,"    }\r\n"],[0,"\t\r\n\tvar "]],"start1":13902,"start2":13902,"length1":16,"length2":23}],"length":16777}
{"ts":1501588362,"restoring":false,"user_id":4164,"patch":[{"diffs":[[0,"ab_index);\r\n"],[1,"            SetOrDisableDiseases();\r\n"],[0,"            "]],"start1":12860,"start2":12860,"length1":24,"length2":61}],"length":16814}
{"ts":1501588392,"restoring":false,"user_id":4164,"patch":[{"diffs":[[0,"ze;\r\n\t\r\n"],[1,"\tvar SetOrDisableMethod = function() {\r\n    "],[0,"\t@if(nul"]],"start1":13583,"start2":13583,"length1":16,"length2":60},{"diffs":[[0,"id')))\r\n"],[1,"    "],[0,"\tselect_"]],"start1":13671,"start2":13671,"length1":16,"length2":20},{"diffs":[[0,"disable();\r\n"],[1,"    "],[0,"    @else\r\n "]],"start1":13698,"start2":13698,"length1":24,"length2":28},{"diffs":[[0,"     @else\r\n"],[1,"    "],[0,"    select_m"]],"start1":13713,"start2":13713,"length1":24,"length2":28},{"diffs":[[0,"')}});\r\n"],[1,"    "],[0,"\t@endif\r"],[1,"\n\t}\r"],[0,"\n\r\n    v"]],"start1":13784,"start2":13784,"length1":24,"length2":32}],"length":16878}
{"ts":1501588422,"restoring":false,"user_id":4164,"patch":[{"diffs":[[0,");\r\n"],[-1,"            SetOrDisableDiseases();\r\n"],[0,"    "]],"start1":12868,"start2":12868,"length1":45,"length2":8},{"diffs":[[0,"ch (tab_index)\r\n"],[1,""],[0,"            {\r\n "]],"start1":12888,"start2":12888,"length1":32,"length2":32},{"diffs":[[0,"only').show();\r\n"],[1,"                    SetOrDisableMethod();\r\n"],[0,"                "]],"start1":12980,"start2":12980,"length1":32,"length2":75},{"diffs":[[0,"       case 2:\r\n"],[-1,""],[0,"                "]],"start1":13131,"start2":13131,"length1":32,"length2":32},{"diffs":[[0,"only').show();\r\n"],[1,"                    SetOrDisableDiseases();\r\n"],[0,"                "]],"start1":13188,"start2":13188,"length1":32,"length2":77}],"length":16929}
{"ts":1501588618,"restoring":false,"user_id":4164,"patch":[{"diffs":[[0,"  \r\n"],[-1,"            \r\n            \r\n"],[0,"    "]],"start1":11511,"start2":11511,"length1":36,"length2":8}],"length":16901}
{"ts":1501588636,"restoring":false,"user_id":4164,"patch":[{"diffs":[[0,"rn;\r\n\t\t\t"],[-1,"//"],[0,"if (!thi"]],"start1":11386,"start2":11386,"length1":18,"length2":16},{"diffs":[[0,".options"],[-1,".length"],[1,"[value]"],[0,") return"]],"start1":11403,"start2":11403,"length1":23,"length2":23}],"length":16899}
{"ts":1501588719,"restoring":false,"user_id":4164,"patch":[{"diffs":[[0,");\r\n"],[-1,"                    select_diseases = $select_prev_diseases[0].selectize;\r\n"],[0,"    "]],"start1":11651,"start2":11651,"length1":83,"length2":8},{"diffs":[[0,"2:\r\n"],[-1,"                    select_diseases = $select_test_diseases[0].selectize;\r\n"],[0,"    "]],"start1":11785,"start2":11785,"length1":83,"length2":8},{"diffs":[[0,"only').show();\r\n"],[1,"                    select_diseases = $select_prev_diseases[0].selectize;\r\n"],[0,"                "]],"start1":12800,"start2":12800,"length1":32,"length2":107},{"diffs":[[0,"only').show();\r\n"],[1,"                    select_diseases = $select_test_diseases[0].selectize;\r\n"],[0,"                "]],"start1":13083,"start2":13083,"length1":32,"length2":107}],"length":16899}
{"ts":1501588817,"restoring":false,"user_id":4164,"patch":[{"diffs":[[0,"2:\r\n"],[-1,"                    LoadDiagnosticTestDiseases(select_service.selected_value, function(value) {});\r\n"],[0,"    "]],"start1":11785,"start2":11785,"length1":108,"length2":8},{"diffs":[[0,"iseases();\r\n"],[1,"                    LoadDiagnosticTestDiseases(select_service.selected_value, function(value) {});\r\n"],[0,"            "]],"start1":13107,"start2":13107,"length1":24,"length2":124}],"length":16899}
{"ts":1501588885,"restoring":false,"user_id":4164,"patch":[{"diffs":[[0,"eMethod();\r\n"],[1,"                    SetOrDisableDiseases();\r\n"],[0,"            "]],"start1":12822,"start2":12822,"length1":24,"length2":69}],"length":16944}
{"ts":1501589350,"restoring":false,"user_id":4164,"patch":[{"diffs":[[0,"        </div>\r\n"],[1,"        <div class=\"form-group diagnostic_tests_only\">\r\n            <label for=\"DiagnosticTestYearMultiplicity\">Кратность услуги в текущем году</label>\r\n            <select name=\"year_multiplicity\" class=\"form-control\" multiple=\"multiple\" id=\"DiagnosticTestYearMultiplicity\">\r\n                <option value=\"первый раз\">первый раз</option>\r\n                <option value=\"второй раз\">второй раз</option>\r\n            </select>\r\n        </div>\r\n"],[0,"    </fieldset>\r"]],"start1":4111,"start2":4111,"length1":32,"length2":476}],"length":17388}
{"ts":1501589367,"restoring":false,"user_id":4164,"patch":[{"diffs":[[0,"control\""],[-1," multiple=\"multiple\""],[0," id=\"Dia"]],"start1":4337,"start2":4337,"length1":36,"length2":16}],"length":17368}
{"ts":1501589466,"restoring":false,"user_id":4164,"patch":[{"diffs":[[0,"        </div>\r\n"],[1,"        <div class=\"form-group diagnostic_tests_only\">\r\n            <label for=\"DiagnosticTestServiceCharacteristics\">Характеристика услуги</label>\r\n            <select name=\"service_characteristics\" class=\"form-control\" id=\"DiagnosticTestServiceCharacteristics\">\r\n                <option value=\"первично\">первично</option>\r\n                <option value=\"вторично\">вторично</option>\r\n            </select>\r\n        </div>\r\n"],[0,"    </fieldset>\r"]],"start1":4535,"start2":4535,"length1":32,"length2":456}],"length":17792}
{"ts":1501589467,"restoring":false,"user_id":4164,"patch":[{"diffs":[[0,"        </div>\r\n"],[1,"        <div class=\"form-group diagnostic_tests_only\">\r\n            <label for=\"DiagnosticTestServiceCharacteristics\">Характеристика услуги</label>\r\n            <select name=\"service_characteristics\" class=\"form-control\" id=\"DiagnosticTestServiceCharacteristics\">\r\n                <option value=\"первично\">первично</option>\r\n                <option value=\"вторично\">вторично</option>\r\n            </select>\r\n        </div>\r\n"],[0,"    </fieldset>\r"]],"start1":4535,"start2":4535,"length1":32,"length2":456}],"length":17792}
{"ts":1501589467,"restoring":false,"user_id":4164,"patch":[{"diffs":[[0,"        </div>\r\n"],[1,"        <div class=\"form-group diagnostic_tests_only\">\r\n            <label for=\"DiagnosticTestServiceCharacteristics\">Характеристика услуги</label>\r\n            <select name=\"service_characteristics\" class=\"form-control\" id=\"DiagnosticTestServiceCharacteristics\">\r\n                <option value=\"первично\">первично</option>\r\n                <option value=\"вторично\">вторично</option>\r\n            </select>\r\n        </div>\r\n"],[0,"    </fieldset>\r"]],"start1":4535,"start2":4535,"length1":32,"length2":456}],"length":17792}
{"ts":1501589752,"restoring":false,"user_id":4164,"patch":[{"diffs":[[0,"    "],[-1,"            <div class=\"form-group diagnostic_tests_only\">\r\n            <label for=\"DiagnosticTestServiceCharacteristics\">Характеристика услуги</label>\r\n            <select name=\"service_characteristics\" class=\"form-control\" id=\"DiagnosticTestServiceCharacteristics\">\r\n                <option value=\"первично\">первично</option>\r\n                <option value=\"вторично\">вторично</option>\r\n            </select>\r\n        </div>\r\n    <div class=\"form-group diagnostic_tests_only\">\r\n            <label for=\"DiagnosticTestServiceCharacteristics\">Характеристика услуги</label>\r\n            <select name=\"service_characteristics\" class=\"form-control\" id=\"DiagnosticTestServiceCharacteristics\">\r\n                <option value=\"первично\">первично</option>\r\n                <option value=\"вторично\">вторично</option>\r\n            </select>\r\n        </div>\r\n"],[0,"    "]],"start1":4551,"start2":4551,"length1":856,"length2":8},{"diffs":[[0,"        </div>\r\n"],[1,"        <div class=\"form-group diagnostic_tests_only\">\r\n            <label for=\"DiagnosticTestConclusionNum\">Дата, номер заключения</label>\r\n            <input name=\"conslusion_num\" class=\"form-control\" maxlength=\"255\" type=\"text\"\r\n                   value=\"{{ old('conslusion_num')?old('conslusion_num'):0 }}\" id=\"DiagnosticTestConclusionNum\">\r\n        </div>\r\n"],[0,"        <div cla"]],"start1":8593,"start2":8593,"length1":32,"length2":394}],"length":18154}
{"ts":1501589791,"restoring":false,"user_id":4164,"patch":[{"diffs":[[0,"ратов</legend>\r\n"],[1,"        <div class=\"form-group diagnostic_tests_only\">\r\n            <label for=\"DiagnosticTestConclusionNum\">Дата, номер заключения</label>\r\n            <input name=\"conslusion_num\" class=\"form-control\" maxlength=\"255\" type=\"text\"\r\n                   value=\"{{ old('conslusion_num')?old('conslusion_num'):0 }}\" id=\"DiagnosticTestConclusionNum\">\r\n        </div>\r\n"],[0,"        <div cla"]],"start1":7256,"start2":7256,"length1":32,"length2":394},{"diffs":[[0,"v>\r\n"],[-1,"        <div class=\"form-group diagnostic_tests_only\">\r\n            <label for=\"DiagnosticTestConclusionNum\">Дата, номер заключения</label>\r\n            <input name=\"conslusion_num\" class=\"form-control\" maxlength=\"255\" type=\"text\"\r\n                   value=\"{{ old('conslusion_num')?old('conslusion_num'):0 }}\" id=\"DiagnosticTestConclusionNum\">\r\n        </div>\r\n"],[0,"    "]],"start1":8967,"start2":8967,"length1":370,"length2":8}],"length":18154}
{"ts":1501589845,"restoring":false,"user_id":4164,"patch":[{"diffs":[[0,"n_num'):"],[-1,"0"],[1,"' '"],[0," }}\" id="]],"start1":7569,"start2":7569,"length1":17,"length2":19}],"length":18156}
{"ts":1501589859,"restoring":false,"user_id":4164,"patch":[{"diffs":[[0,"_num'):'"],[-1," "],[0,"' }}\" id"]],"start1":7570,"start2":7570,"length1":17,"length2":16}],"length":18155}
{"ts":1501589958,"restoring":false,"user_id":4164,"patch":[{"diffs":[[0,"preventions_only"],[1," diagnostic_tests_only"],[0,"\">\r\n            "]],"start1":5076,"start2":5076,"length1":32,"length2":54},{"diffs":[[0,"<label for=\""],[-1,"Prevention"],[0,"Count\">Всего"]],"start1":5130,"start2":5130,"length1":34,"length2":24},{"diffs":[[0,"number\" id=\""],[-1,"Prevention"],[0,"Count\" value"]],"start1":5223,"start2":5223,"length1":34,"length2":24}],"length":18157}
{"ts":1501590034,"restoring":false,"user_id":4164,"patch":[{"diffs":[[0,"preventions_only"],[1," diagnostic_tests_only"],[0,"\">\r\n            "]],"start1":5333,"start2":5333,"length1":32,"length2":54},{"diffs":[[0,"<label for=\""],[-1,"Prevention"],[0,"CountGz\">По "]],"start1":5387,"start2":5387,"length1":34,"length2":24},{"diffs":[[0,"number\" id=\""],[-1,"Prevention"],[0,"CountGz\" val"]],"start1":5485,"start2":5485,"length1":34,"length2":24}],"length":18159}
{"ts":1501590393,"restoring":false,"user_id":4164,"patch":[{"diffs":[[0,"        </div>\r\n"],[1,"        <div class=\"form-group diagnostic_tests_only\">\r\n            <label for=\"DiagnosticTestCountPositive\">ПоложительноЗ</label>\r\n            <input name=\"count_positive\" class=\"form-control\" type=\"number\" id=\"DiagnosticTestCountPositive\" value=\"{{ old('count_positive')?old('count_positive'):0 }}\">\r\n        </div>\r\n"],[0,"        <div cla"]],"start1":6431,"start2":6431,"length1":32,"length2":351}],"length":18478}
{"ts":1501590455,"restoring":false,"user_id":4164,"patch":[{"diffs":[[0,"жительно"],[-1,"З"],[0,"</label>"]],"start1":6560,"start2":6560,"length1":17,"length2":16}],"length":18477}
{"ts":1501590525,"restoring":false,"user_id":4164,"patch":[{"diffs":[[0,"\r\n\r\n"],[-1,"        <div class=\"diagnostic_tests_only\" style=\"color:red\">\r\n            исследования: покачто нет формы\r\n        </div>\r\n\r\n"],[0,"    "]],"start1":7195,"start2":7195,"length1":134,"length2":8}],"length":18351}
{"ts":1501591653,"restoring":false,"user_id":4164,"patch":[{"diffs":[[0,"('comment'):"],[-1,"0"],[1,"''"],[0," }}\" id=\"Com"]],"start1":9849,"start2":9849,"length1":25,"length2":26}],"length":18352}
{"ts":1501654929,"restoring":false,"user_id":4164,"patch":[{"diffs":[[0,"\"form-group "],[-1,"required "],[0,"preventions_"]],"start1":8534,"start2":8534,"length1":33,"length2":24},{"diffs":[[0,"entions_only\">\r\n"],[1,""],[0,"            <lab"]],"start1":8550,"start2":8550,"length1":32,"length2":32},{"diffs":[[0,"ethodId\""],[-1," required=\"required\""],[0,">\r\n     "]],"start1":8745,"start2":8745,"length1":36,"length2":16},{"diffs":[[0,"oup "],[-1,"required "],[0,"prev"]],"start1":9166,"start2":9166,"length1":17,"length2":8},{"diffs":[[0,":0 }}\"\r\n"],[1,""],[0,"        "]],"start1":9463,"start2":9463,"length1":16,"length2":16},{"diffs":[[0,"edDoses\""],[-1," required=\"required\""],[0,">\r\n     "]],"start1":9507,"start2":9507,"length1":36,"length2":16}],"length":18294}
{"ts":1501656600,"restoring":false,"user_id":4164,"patch":[{"diffs":[[0,"on=\""],[-1,"/object/{"],[1,"{{route('object.fact.store', ["],[0,"{$ob"]],"start1":482,"start2":482,"length1":17,"length2":38},{"diffs":[[0,"->id"],[1,"])"],[0,"}}"],[-1,"/fact"],[0,"\" cl"]],"start1":524,"start2":524,"length1":15,"length2":12}],"length":18312}
{"ts":1501656629,"restoring":false,"user_id":4164,"patch":[{"diffs":[[0,"tore', ["],[-1,"{"],[0,"$object-"]],"start1":508,"start2":508,"length1":17,"length2":16}],"length":18311}
{"ts":1501676938,"restoring":false,"user_id":4164,"patch":[{"diffs":[[0,"ame=\"con"],[-1,"s"],[1,"c"],[0,"lusion_n"]],"start1":7646,"start2":7646,"length1":17,"length2":17},{"diffs":[[0,"lue=\"{{ old('con"],[-1,"s"],[1,"c"],[0,"lusion_num')?old"]],"start1":7738,"start2":7738,"length1":33,"length2":33},{"diffs":[[0,"old('con"],[-1,"s"],[1,"c"],[0,"lusion_n"]],"start1":7768,"start2":7768,"length1":17,"length2":17}],"length":18311}
{"ts":1501677021,"restoring":false,"user_id":4164,"patch":[{"diffs":[[0,"on_num')"],[-1,"?"],[1," ? "],[0,"old('con"]],"start1":7759,"start2":7759,"length1":17,"length2":19},{"diffs":[[0,"on_num')"],[-1,":"],[1," : "],[0,"'' }}\" i"]],"start1":7783,"start2":7783,"length1":17,"length2":19}],"length":18315}
{"ts":1501747708,"restoring":false,"user_id":4164,"patch":[{"diffs":[[0,"   <"],[-1,"!--@foreach ($preparation_receipts as $preparation_receipt)\r\n                    <option value=\"{{$preparation_receipt->id}}\" {{ old('preparation_receipt_id') == $preparation_receipt->id ? 'selected' : '' }}>\r\n                        {{ $preparation_receipt->id }}-{{ $preparation_receipt->preparation->name }} (серия: {{ $preparation_receipt->series }})\r\n                    </option>\r\n                @endforeach--"],[1,"option value=\"\"></option"],[0,">\r\n "]],"start1":8074,"start2":8074,"length1":424,"length2":32}],"length":17923}