codetasty.revision.2.0
{"ts":1502190210,"restoring":false,"user_id":4164,"patch":[{"diffs":[[1,"<?php\n\nuse Illuminate\\Support\\Facades\\Schema;\nuse Illuminate\\Database\\Schema\\Blueprint;\nuse Illuminate\\Database\\Migrations\\Migration;\n\nclass AddServiceCategoryIdToFact extends Migration\n{\n    /**\n     * Run the migrations.\n     *\n     * @return void\n     */\n    public function up()\n    {\n        Schema::disableForeignKeyConstraints();\n        Schema::table('facts', function (Blueprint $table) {\n             $table->integer('service_category_id')->unsigned();\n        });\n         Schema::table('facts', function (Blueprint $table) {\n            $table->foreign('service_category_id')->references('id')->on('service-categories');\n        });\n        Schema::enableForeignKeyConstraints();\n    }\n\n    /**\n     * Reverse the migrations.\n     *\n     * @return void\n     */\n    public function down()\n    {\n        Schema::table('facts', function (Blueprint $table) {\n            //\n        });\n    }\n}\n"]],"start1":0,"start2":0,"length1":0,"length2":902}],"length":902}
{"ts":1502190217,"restoring":false,"user_id":4164,"patch":[{"diffs":[[0,"'service"],[-1,"-"],[1,"_"],[0,"categori"]],"start1":610,"start2":610,"length1":17,"length2":17}],"length":902}
{"ts":1502190267,"restoring":false,"user_id":4164,"patch":[{"diffs":[[0,"    "],[-1,"//"],[1,"Schema::disableForeignKeyConstraints();\n            Schema::table('facts', function (Blueprint $table) {\n                $table->dropForeign(['service_category_id']);\n                $table->dropColumn('service_category_id');\n            });\n            Schema::enableForeignKeyConstraints();"],[0,"\n   "]],"start1":875,"start2":875,"length1":10,"length2":300}],"length":1192}