codetasty.revision.2.0
{"ts":1502196226,"restoring":false,"user_id":4164,"patch":[{"diffs":[[1,"<?php\n\n/*\n|--------------------------------------------------------------------------\n| Web Routes\n|--------------------------------------------------------------------------\n|\n| Here is where you can register web routes for your application. These\n| routes are loaded by the RouteServiceProvider within a group which\n| contains the \"web\" middleware group. Now create something great!\n|\n*/\n\nRoute::get('/', function () {\n    return view('welcome');\n});\n\nAuth::routes();\n\nRoute::post('/github',\n    ['middleware' => 'github.secret.token',\n    'uses' => 'GitHubController@post']);\nRoute::get('/github', 'GitHubController@get');\n\nRoute::group(['middleware' => 'auth'], function () {\n\n    Route::get('/home', [\n        'as' => 'home',\n        'uses' => 'HomeController@index'\n    ]);\n\n    Route::resource('/object', 'ObjectController');\n\n    Route::resource('subdivision.preparation_receipt', 'PreparationReceiptController', ['except' => [\n        'show'\n    ]]);\n\n    Route::resource('object.animal', 'AnimalController', ['except' => [\n        'show'\n    ]]);\n\n    Route::resource('object.fact', 'FactController');\n\n    Route::group(\n    \t['middleware' => 'can:access-lists',\n    \t'prefix' => 'lists'],\n    \tfunction () {\n    \t\tRoute::get('/',\n    \t\t\t['as' => 'lists-index',\n    \t\t\t'uses' => function() { return view('lists/lists'); }]);\n    \t\tRoute::resource('/disease_type', 'DiseaseTypeController', ['except' => [\n                'create', 'show', 'edit'\n            ]]);\n\t\t\tRoute::resource('/disease', 'DiseaseController', ['except' => [\n                'create', 'show'\n            ]]);\n            Route::post('/disease/{id}/add_service', 'DiseaseController@add_service');//Че так не рестфул? https://laravel.com/docs/5.1/controllers#restful-nested-resources\n                                                                                      //из-за одного лишь добавления/удаления записей многие ко многим создавать контрллер с 2мя методами\n                                                                                      //показалось старнным. Кстати почему из поздних инструкций убрали эту секцию?)\n            Route::delete('/disease/{id}/destroy_service/{service_id}', 'DiseaseController@destroy_service');//Че так не рестфул? https://laravel.com/docs/5.1/controllers#restful-nested-resources\n            Route::resource('/animal_category', 'AnimalCategoryController', ['except' => [\n                'create', 'show', 'edit'\n            ]]);\n            Route::resource('/animal_type', 'AnimalTypeController', ['except' => [\n                'create', 'show', 'edit'\n            ]]);\n            Route::resource('/service_category', 'ServiceCategoryController', ['except' => [\n                'create', 'show', 'edit'\n            ]]);\n            Route::resource('/measure', 'MeasureController');\n            Route::resource('/preparation_measure', 'PreparationMeasureController', ['except' => [\n                'create', 'show', 'edit'\n            ]]);\n            Route::resource('/basic_document', 'BasicDocumentController', ['except' => [\n                'create', 'show', 'edit'\n            ]]);\n            Route::resource('/lab_jurisdiction', 'LabJurisdictionController', ['except' => [\n                'create', 'show', 'edit'\n            ]]);\n            Route::resource('/executor', 'ExecutorController', ['except' => [\n                'create', 'show', 'edit'\n            ]]);\n            Route::resource('/executor_category', 'ExecutorCategoryController', ['except' => [\n                'create', 'show', 'edit'\n            ]]);\n            Route::resource('/material_type', 'MaterialTypeController', ['except' => [\n                'create', 'show', 'edit'\n            ]]);\n            Route::resource('/research_category', 'ResearchCategoryController', ['except' => [\n                'create', 'show', 'edit'\n            ]]);\n            Route::resource('/research_type', 'ResearchTypeController', ['except' => [\n                'create', 'show', 'edit'\n            ]]);\n            Route::resource('/so_measure', 'SOMeasureController', ['except' => [\n                'create', 'show', 'edit'\n            ]]);\n            Route::resource('/work_type', 'WorkTypeController', ['except' => [\n                'create', 'show', 'edit'\n            ]]);\n            Route::resource('/service', 'ServiceController', ['except' => [\n                'create', 'show', 'edit'\n            ]]);\n            Route::resource('/service_type', 'ServiceTypeController', ['except' => [\n                'create', 'show', 'edit'\n            ]]);\n            Route::resource('/application_method', 'ApplicationMethodController', ['except' => [\n                'create', 'show', 'edit'\n            ]]);\n            Route::resource('/preparation', 'PreparationController', ['except' => [\n                'create', 'show'\n            ]]);\n            Route::resource('/region', 'RegionController', ['except' => [\n                'create', 'show'\n            ]]);\n            Route::resource('/district', 'DistrictController', ['except' => [\n                'create', 'show', 'index'\n            ]]);\n            Route::resource('/municipality', 'MunicipalityController', ['except' => [\n                'create', 'show', 'index'\n            ]]);\n            Route::resource('/city', 'CityController', ['except' => [\n                'create', 'show', 'edit', 'index'\n            ]]);\n            Route::resource('/organ', 'OrganController', ['except' => [\n                'create', 'show'\n            ]]);\n            Route::resource('/institution', 'InstitutionController', ['except' => [\n                'create', 'show', 'index'\n            ]]);\n            Route::resource('/subdivision', 'SubdivisionController', ['except' => [\n                'create', 'show', 'index'\n            ]]);\n    \t}\n    );\n\n});\n"]],"start1":0,"start2":0,"length1":0,"length2":5811}],"length":5811}
{"ts":1502264704,"restoring":false,"user_id":4164,"patch":[{"diffs":[[0,"ate', 'show'"],[-1,", 'edit'"],[0,"\n           "]],"start1":4371,"start2":4371,"length1":32,"length2":24}],"length":5803}
{"ts":1503294278,"restoring":false,"user_id":4164,"patch":[{"diffs":[[0,"           ]]);\n"],[1,"            Route::resource('/agesex', 'AgesexController', ['except' => [\n                'create', 'show', 'edit'\n            ]]);\n"],[0,"            Rout"]],"start1":2583,"start2":2583,"length1":32,"length2":164}],"length":5935}
{"ts":1503309593,"restoring":false,"user_id":4164,"patch":[{"diffs":[[0,"ate', 'show'"],[-1,", 'edit'"],[0,"\n           "]],"start1":2693,"start2":2693,"length1":32,"length2":24}],"length":5927}
{"ts":1503311716,"restoring":false,"user_id":4164,"patch":[{"diffs":[[0,"\n    );\n\n});"],[-1,"\n"]],"start1":5914,"start2":5914,"length1":13,"length2":12}],"length":5926}